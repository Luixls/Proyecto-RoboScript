<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>RoboScript — Editor y Simulador</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <h1>RoboScript — Editor y Simulador</h1>

  <textarea id="editor">
# Reiniciar y mostrar estado inicial
RESET
ESTADO

# Recorrer un cuadrado de 4 aristas de 15 pasos
REPETIR 4 HACER
  # Cada paso comprueba obstáculo
  REPETIR 15 HACER
    SI OBSTACULO = 1 ENTONCES
      ENCENDER LUZ
      ESTADO
    FIN
    SI OBSTACULO != 1 ENTONCES
      AVANZAR 1
      ESPERAR 0.2
    FIN
  FIN
  GIRAR DERECHA
FIN

# Estado final
ESTADO
  </textarea>
  <br/>
  <button id="run">Compilar y Ejecutar</button>

  <canvas id="canvas" width="500" height="500"></canvas>
  <div id="log"></div>

  <!-- 1) Nearley runtime -->
  <script src="https://unpkg.com/nearley@2.20.1/lib/nearley.js"></script>
  <!-- 2) Bundle ensamblado con Browserify (tu gramática + Moo) -->
  <script src="grammar.bundle.js"></script>
  <!-- 3) Motor gráfico y definición de `robot` y `run()` vacía -->
  <script src="simulator.js"></script>
  <!-- 4) Lógica de UI: parse, compile y ejecutar -->
  <script src="main.js"></script>
</body>
</html>
